{
  "events": [
    {
      "event": "call",
      "thread_id": 0,
      "id": 1,
      "http_server_request": {
        "protocol": "HTTP/1.1",
        "request_method": "POST",
        "path_info": "/url/https%3A%2F%2Fwww.example.com",
        "normalized_path_info": "/url/:url",
        "headers": {
          "host": "127.0.0.1:50548",
          "accept-encoding": "gzip, deflate",
          "connection": "close",
          "content-length": "0"
        }
      },
      "message": [
        {
          "name": ":url",
          "class": "string",
          "value": "https%3A%2F%2Fwww.example.com"
        }
      ]
    },
    {
      "event": "return",
      "thread_id": 0,
      "id": 2,
      "parent_id": 1,
      "elapsed": 0.0013360000000000127,
      "http_server_response": {
        "status_code": 200,
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "25",
          "etag": "W/\"19-k0H081VEt7l55hvskcAARwmyrj0\""
        },
        "return_value": {
          "name": "return",
          "class": "Object",
          "object_id": 5,
          "value": "[object Object]",
          "size": 1,
          "properties": [
            {
              "name": "shortUrlPath",
              "class": "string"
            }
          ]
        }
      }
    },
    {
      "event": "call",
      "thread_id": 0,
      "id": 3,
      "http_client_request": {
        "request_method": "POST",
        "url": "http://127.0.0.1:50548/url/https%3A%2F%2Fwww.example.com",
        "headers": {
          "host": "127.0.0.1:50548"
        }
      }
    },
    {
      "event": "return",
      "thread_id": 0,
      "id": 4,
      "parent_id": 3,
      "elapsed": 0.003394999999999982,
      "http_client_response": {
        "status_code": 200,
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "25",
          "etag": "W/\"19-k0H081VEt7l55hvskcAARwmyrj0\"",
          "date": "Wed, 03 May 2023 22:07:26 GMT",
          "connection": "close"
        },
        "return_value": {
          "name": "return",
          "class": "Object",
          "object_id": 6,
          "value": "[object Object]",
          "size": 1,
          "properties": [
            {
              "name": "shortUrlPath",
              "class": "string"
            }
          ]
        }
      }
    },
    {
      "event": "call",
      "thread_id": 0,
      "id": 5,
      "http_server_request": {
        "protocol": "HTTP/1.1",
        "request_method": "GET",
        "path_info": "/urls",
        "normalized_path_info": "/urls",
        "headers": {
          "host": "127.0.0.1:50550",
          "accept-encoding": "gzip, deflate",
          "connection": "close"
        }
      }
    },
    {
      "event": "return",
      "thread_id": 0,
      "id": 6,
      "parent_id": 5,
      "elapsed": 0.0009449999999999363,
      "http_server_response": {
        "status_code": 200,
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "68",
          "etag": "W/\"44-aLPjuvswPbrYQl+e49XuB48VEqA\""
        },
        "return_value": {
          "name": "return",
          "class": "Array",
          "object_id": 7,
          "value": "[object Object]",
          "size": 1
        }
      }
    },
    {
      "event": "call",
      "thread_id": 0,
      "id": 7,
      "http_client_request": {
        "request_method": "GET",
        "url": "http://127.0.0.1:50550/urls",
        "headers": {
          "host": "127.0.0.1:50550"
        }
      }
    },
    {
      "event": "return",
      "thread_id": 0,
      "id": 8,
      "parent_id": 7,
      "elapsed": 0.0032160000000000083,
      "http_client_response": {
        "status_code": 200,
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "68",
          "etag": "W/\"44-aLPjuvswPbrYQl+e49XuB48VEqA\"",
          "date": "Wed, 03 May 2023 22:07:26 GMT",
          "connection": "close"
        },
        "return_value": {
          "name": "return",
          "class": "Array",
          "object_id": 8,
          "value": "[object Object]",
          "size": 1
        }
      }
    }
  ],
  "version": "1.8.0",
  "metadata": {
    "name": "POST /url/:url returns a short URL path when given a valid URL",
    "app": "appmap-takehome",
    "labels": [],
    "language": {
      "name": "javascript",
      "version": "ES.Next",
      "engine": "node@18.16.0"
    },
    "frameworks": [],
    "client": {
      "name": "@appland/appmap-agent-js",
      "version": "13.8.0",
      "url": "https://github.com/getappmap/appmap-agent-js.git/#readme"
    },
    "recorder": {
      "name": "jest"
    },
    "git": {
      "repository": "APPMAP-MISSING-REPOSITORY-NAME",
      "branch": "master",
      "commit": "55c8499803fe196275396d51a4b6adf3833adb14",
      "status": [
        "M app.test.js",
        "M appmap.yml",
        "M package.json",
        "M url_shortener.db",
        "M url_shortener.db-shm",
        "M url_shortener.db-wal",
        "?? .vscode/"
      ],
      "tag": null,
      "annotated_tag": null,
      "commits_since_tag": null,
      "commits_since_annotated_tag": null
    },
    "test_status": "succeeded"
  },
  "classMap": [
    {
      "type": "http",
      "name": "HTTP server requests",
      "children": [
        {
          "type": "route",
          "name": "POST /url/:url"
        },
        {
          "type": "route",
          "name": "GET /urls"
        }
      ]
    },
    {
      "type": "external-service",
      "name": "127.0.0.1:50548",
      "children": [
        {
          "type": "external-route",
          "name": "POST http://127.0.0.1:50548/url/https%3A%2F%2Fwww.example.com"
        }
      ]
    },
    {
      "type": "external-service",
      "name": "127.0.0.1:50550",
      "children": [
        {
          "type": "external-route",
          "name": "GET http://127.0.0.1:50550/urls"
        }
      ]
    }
  ]
}